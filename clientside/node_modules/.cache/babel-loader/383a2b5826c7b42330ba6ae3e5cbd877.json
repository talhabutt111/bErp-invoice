{"ast":null,"code":"var _jsxFileName = \"E:\\\\git project\\\\bErp-invoice\\\\clientside\\\\src\\\\components\\\\Generate.jsx\";\nimport React, { Component } from \"react\";\nimport { MDBBtn, MDBCard, MDBCardBody, MDBInput, MDBIcon } from 'mdbreact';\nimport invoice from './images/devZone-Logo.png';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\nimport axios from 'axios'; // const today = new Date();\n// const mydate = today.toDateString();\n// const id = Math.floor((Math.random() * 200000) + 1);\n\nconst servicesOptions = [{\n  value: 'seo',\n  label: 'SEO'\n}, {\n  value: 'web development',\n  label: 'WEB DEVELOPMENT'\n}, {\n  value: 'graphic designing',\n  label: 'Graphics Designing'\n}, {\n  value: 'mobile apps',\n  label: 'Mobile Apps'\n}];\n\nclass Generate extends Component {\n  constructor(props) {\n    super(props);\n\n    this.cleararray = () => {\n      this.setState({\n        item: []\n      });\n    };\n\n    this.submitInvoice = () => {\n      let _this$state = this.state,\n          item = _this$state.item,\n          total = _this$state.total; // e.preventDefault();\n\n      let form = this.selectClientForm;\n\n      if (form.checkValidity() === false) {\n        form.classList.add('was-validated');\n      } else if (item.length === 0) {\n        this.setState({\n          message: 'No Invoice Data !'\n        });\n        return;\n      } else if (total === 0) {\n        this.setState({\n          message: 'Please calculate first !'\n        });\n        return;\n      } else {\n        let _this$state2 = this.state,\n            invoice_id = _this$state2.invoice_id,\n            selectedClient = _this$state2.selectedClient,\n            address = _this$state2.address,\n            phone = _this$state2.phone,\n            date = _this$state2.date,\n            total = _this$state2.total,\n            printInvoice = _this$state2.printInvoice;\n        const obj = {\n          slagme: invoice_id,\n          name: selectedClient,\n          address: address,\n          number: phone,\n          date: date,\n          total_amount: total\n        };\n        axios.post('http://localhost:5000/brp/invoice', obj).then(res => {\n          this.setState({\n            message: res.data.message\n          }); // console.log(res.data);\n\n          axios.post('http://localhost:5000/brp/itemsdata', item).then(res => {\n            // console.log(res)\n            this.setState({\n              item: [],\n              address: '',\n              phone: '',\n              services: '',\n              total: 0,\n              selectedClient: '',\n              description: '',\n              qty: '',\n              price: '',\n              message: ''\n            });\n            this.selectClientForm.classList.remove('was-validated');\n\n            if (printInvoice) {\n              const input = document.getElementById('capture');\n              html2canvas(input).then(canvas => {\n                const imgData = canvas.toDataURL('image/png');\n                const pdf = new jsPDF();\n                pdf.addImage(imgData, 'PNG', 3, 50, 207, 190);\n                pdf.save(\"invoice.pdf\");\n              });\n            }\n          }).catch(error => console.log(error));\n        }).catch(err => {\n          console.log(err);\n        });\n      }\n    };\n\n    this.componentDidMount = () => {\n      fetch(\"http://localhost:5000/brp/clients\").then(response => {\n        return response.json();\n      }).then(data => {\n        // console.log(data);\n        this.setState({\n          clients: data\n        }, () => {// console.log(this.state.clients)\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n\n      if (this.editingInvoiceId) {\n        axios.get('http://localhost:5000/brp/invoices/' + this.props.id).then(response => {\n          // console.log(response);\n          if (!response.data.error) {\n            var editingInvoice = response.data.invoice.shift();\n          }\n\n          editingInvoice && axios.get('http://localhost:5000/brp/oneitemdata/' + editingInvoice.slagme).then(response => {\n            // console.log(response);\n            let item = [];\n\n            if (response.data.length !== 0) {\n              response.data.forEach(data => {\n                item.push({\n                  invoice_id: data.invoice_id,\n                  services: data.services,\n                  detail: data.detail,\n                  qty: data.qty,\n                  price: data.price\n                });\n              });\n              this.setState({\n                item\n              });\n              editingInvoice && this.setState({\n                date: new Date(editingInvoice.date).toDateString(),\n                invoice_id: editingInvoice.slagme,\n                selectedClient: editingInvoice.c_name,\n                address: editingInvoice.c_address,\n                phone: editingInvoice.c_number,\n                total: editingInvoice.total_amount\n              });\n            }\n          }).catch(err => console.log(err));\n        }) // .then(() => { console.log(this.state.name, this.state.address) })\n        .catch(function (error) {\n          console.log(error);\n        });\n      }\n    };\n\n    this.alertmessage = () => {\n      if (this.state.message !== null) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167\n          },\n          __self: this\n        }, React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168\n          },\n          __self: this\n        }, this.state.message));\n      } else {\n        console.log('message error');\n      }\n    };\n\n    this.calculateTotal = () => {\n      let table = document.getElementById('invoiceTable'),\n          total = 0;\n\n      for (let index = 1; index < table.rows.length; index++) {\n        total += Number(table.rows[index].cells[3].innerHTML);\n      }\n\n      this.setState({\n        total: total\n      });\n    };\n\n    this.onChangeClient = e => {\n      let ourClient = this.state.clients.filter(client => client.id == e.target.value).shift();\n      ourClient ? this.setState({\n        selectedClient: ourClient.id,\n        address: ourClient.address,\n        phone: ourClient.number\n      }) : this.setState({\n        selectedClient: '',\n        address: '',\n        phone: ''\n      });\n    };\n\n    this.onChange = name => e => {\n      this.setState({\n        [name]: e.target.value\n      });\n    };\n\n    this.addItem = e => {\n      e.preventDefault();\n\n      if (this.addItemForm.checkValidity() === false) {\n        this.addItemForm.classList.add('was-validated');\n        return;\n      } else {\n        let _this$state3 = this.state,\n            invoice_id = _this$state3.invoice_id,\n            description = _this$state3.description,\n            qty = _this$state3.qty,\n            price = _this$state3.price,\n            services = _this$state3.services;\n        let newitem = {\n          invoice_id: invoice_id,\n          services: services,\n          detail: description,\n          qty: qty,\n          price: price\n        };\n        this.setState({\n          item: [...this.state.item, newitem],\n          description: '',\n          qty: '',\n          price: '',\n          services: ''\n        }, function () {\n          this.addItemForm.classList.remove('was-validated');\n        });\n      }\n    };\n\n    this.tdOnBlur = (index, name) => e => {\n      let el = e.target;\n      this.setState({\n        item: [...this.state.item.slice(0, index), Object.assign({}, this.state.item[index], {\n          [name]: el.innerHTML\n        }), ...this.state.item.slice(index + 1)]\n      });\n    };\n\n    this.deleteItemData = Index => e => {\n      let el = e.target,\n          rowIndex = el.closest('tr').rowIndex;\n      this.setState(prevState => ({\n        item: prevState.item.filter((itemData, index) => {\n          return index !== Index;\n        })\n      }));\n    };\n\n    this.editingInvoiceId = this.props.id;\n    this.state = {\n      date: new Date().toDateString(),\n      invoice_id: Math.floor(Math.random() * 200000 + 1),\n      address: '',\n      phone: '',\n      total: 0,\n      selectedClient: '',\n      // item: [{ services: 'seo', detail: 'ggd', qty: '3', price: '4' }],\n      item: [],\n      services: '',\n      discount: '',\n      clients: [],\n      message: '',\n      description: '',\n      qty: '',\n      price: '',\n      printInvoice: true\n    };\n  }\n\n  render() {\n    // console.log('re-render');\n    let _this$state4 = this.state,\n        total = _this$state4.total,\n        description = _this$state4.description,\n        qty = _this$state4.qty,\n        price = _this$state4.price,\n        date = _this$state4.date,\n        invoice_id = _this$state4.invoice_id,\n        selectedClient = _this$state4.selectedClient,\n        clients = _this$state4.clients,\n        phone = _this$state4.phone,\n        address = _this$state4.address,\n        printInvoice = _this$state4.printInvoice;\n    let companyDetailStyle = {\n      fontSize: '0.8rem'\n    };\n    let clientOptions = clients && clients.map(cl => React.createElement(\"option\", {\n      key: cl.id,\n      value: cl.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, cl.cl_name));\n    let tableRows = [];\n    this.state.item.map((item, index) => {\n      tableRows.push(React.createElement(\"tr\", {\n        key: index,\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, item.services), React.createElement(\"td\", {\n        onBlur: this.tdOnBlur(index, 'detail'),\n        suppressContentEditableWarning: true,\n        contentEditable: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, item.detail), React.createElement(\"td\", {\n        onBlur: this.tdOnBlur(index, 'qty'),\n        suppressContentEditableWarning: true,\n        contentEditable: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, item.qty), React.createElement(\"td\", {\n        onBlur: this.tdOnBlur(index, 'price'),\n        suppressContentEditableWarning: true,\n        contentEditable: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      }, item.price), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287\n        },\n        __self: this\n      }, React.createElement(MDBBtn, {\n        size: \"sm\",\n        color: \"danger\",\n        onClick: this.deleteItemData(index),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-trash\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      })))));\n    });\n    return React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row m-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-11 offset-sm-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }, React.createElement(MDBCard, {\n      id: \"capture\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }, React.createElement(MDBCardBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"text-center\",\n      style: {\n        backgroundColor: \"#9ACD32\",\n        color: \"white\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }, \"INVOICE\"), React.createElement(\"div\", {\n      className: \"row m-0 p-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-3 align-self-center m-0 p-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306\n      },\n      __self: this\n    }, React.createElement(MDBInput, {\n      label: \"Date\",\n      disabled: true,\n      value: date,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307\n      },\n      __self: this\n    }), React.createElement(MDBInput, {\n      label: \"Id\",\n      disabled: true,\n      value: invoice_id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-sm-6 align-self-center m-0 p-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: invoice,\n      width: \"100%\",\n      height: \"auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311\n      },\n      __self: this\n    }), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-md-3 m-0 p-0 align-self-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313\n      },\n      __self: this\n    }, React.createElement(MDBCard, {\n      className: \"m-0 p-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }, React.createElement(MDBCardBody, {\n      className: \"m-0 py-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-2 text-center  m-0 p-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-mobile-alt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-10 m-0 p-0 text-left\",\n      style: companyDetailStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320\n      },\n      __self: this\n    }, \"+92 306 5619198\")), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-2 text-center  m-0 py-0 pr-0 pl-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-envelope\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-10 m-0 p-0 text-left\",\n      style: companyDetailStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329\n      },\n      __self: this\n    }, \"contact@devzone.com.pk\")), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-2 text-center  m-0 p-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-map-marker-alt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-10 m-0 p-0 text-left\",\n      style: companyDetailStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338\n      },\n      __self: this\n    }, \"42-5-A2 Township, Lahore, Pakistan\")))))), this.alertmessage(), React.createElement(\"form\", {\n      ref: el => this.selectClientForm = el,\n      noValidate: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351\n      },\n      __self: this\n    }), React.createElement(\"select\", {\n      value: selectedClient // defaultValue={'Select Client/..'}\n      ,\n      className: \"browser-default custom-select mt-1\" // placeholder={'Select Client'}\n      ,\n      onChange: this.onChangeClient,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      key: Math.random(),\n      value: \"\",\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360\n      },\n      __self: this\n    }, \"Select Client...\"), clientOptions)), React.createElement(\"div\", {\n      className: \"col-sm-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364\n      },\n      __self: this\n    }, React.createElement(MDBInput, {\n      label: \"Address\",\n      value: address,\n      disabled: true,\n      required: true,\n      validate: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-sm-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373\n      },\n      __self: this\n    }, React.createElement(MDBInput, {\n      label: \"Phone\",\n      value: phone,\n      disabled: true,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"container-fluid m-0 p-0\",\n      style: {\n        borderStyle: \"groove\",\n        borderRadius: \"10px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.addItem,\n      className: \" p-0\",\n      ref: ref => this.addItemForm = ref,\n      noValidate: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row px-2 m-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-4 m-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388\n      },\n      __self: this\n    }), React.createElement(\"select\", {\n      className: \"form-control mt-1\",\n      onChange: this.onChange('services'),\n      required: true,\n      value: this.state.services,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"\",\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395\n      },\n      __self: this\n    }, \"Select Services...\"), React.createElement(\"option\", {\n      value: \"seo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396\n      },\n      __self: this\n    }, \"SEO\"), React.createElement(\"option\", {\n      value: \"web development\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397\n      },\n      __self: this\n    }, \"Web Development\"), React.createElement(\"option\", {\n      value: \"mob app\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398\n      },\n      __self: this\n    }, \"Mobile App\"), React.createElement(\"option\", {\n      value: \"graphic designing\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399\n      },\n      __self: this\n    }, \"Graphic Designing\"))), React.createElement(\"div\", {\n      className: \"col-md-4 m-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402\n      },\n      __self: this\n    }, React.createElement(MDBInput, {\n      label: \"Item-descrption\",\n      value: description,\n      type: \"text\",\n      onChange: this.onChange('description'),\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-md-1 m-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 411\n      },\n      __self: this\n    }, React.createElement(MDBInput, {\n      label: \"Qty\",\n      value: qty,\n      type: \"number\",\n      min: \"1\",\n      onChange: this.onChange('qty'),\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-md-2 m-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421\n      },\n      __self: this\n    }, React.createElement(MDBInput, {\n      label: \"Price\",\n      value: price,\n      type: \"number\",\n      min: \"1\",\n      onChange: this.onChange('price'),\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 422\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-md-1 m-0 pt-2  align-self-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      color: \"transparent\",\n      className: \"mb-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 432\n      },\n      __self: this\n    }, React.createElement(MDBIcon, {\n      icon: \"plus\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 437\n      },\n      __self: this\n    }))))), React.createElement(\"div\", {\n      className: \"row px-2 m-0\",\n      style: {\n        display: this.state.item.length === 0 ? 'none' : ''\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 442\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-8 m-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 444\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"m-0 p-0 table-responsive\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 445\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      id: \"invoiceTable\",\n      className: \"table table-bordered table-hover table-sm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 446\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      className: \"thead-light text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 448\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 449\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 450\n      },\n      __self: this\n    }, \"Services\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 451\n      },\n      __self: this\n    }, \"Description\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 452\n      },\n      __self: this\n    }, \"Qty.\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 453\n      },\n      __self: this\n    }, \"Price\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 454\n      },\n      __self: this\n    }, \"Action\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 457\n      },\n      __self: this\n    }, tableRows))))), React.createElement(\"div\", {\n      className: \"row px-2 m-0\",\n      style: {\n        display: this.state.item.length === 0 ? 'none' : ''\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 465\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-8 align-self-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 467\n      },\n      __self: this\n    }, React.createElement(MDBBtn, {\n      color: \"transparent\",\n      onClick: this.calculateTotal,\n      className: \"m-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 468\n      },\n      __self: this\n    }, \"Calculate\"), React.createElement(MDBBtn, {\n      onClick: this.cleararray,\n      color: \"transparent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 475\n      },\n      __self: this\n    }, React.createElement(MDBIcon, {\n      icon: \"broom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 479\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-sm-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 482\n      },\n      __self: this\n    }, React.createElement(MDBInput, {\n      label: \"Total\",\n      outline: true,\n      value: total,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 483\n      },\n      __self: this\n    })))), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 487\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row m-0 px-2 justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 491\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-2 text-right P-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 492\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"checkbox\",\n      checked: printInvoice,\n      onChange: () => {\n        this.setState({\n          printInvoice: !this.state.printInvoice\n        });\n      },\n      className: \"mt-2 mr-0 w-75 h-75\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 493\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-md-2 align-self-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 504\n      },\n      __self: this\n    }, \"Save PDF ?\"), React.createElement(\"div\", {\n      className: \"col-md-3 p-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 507\n      },\n      __self: this\n    }, React.createElement(MDBBtn, {\n      color: \"success\",\n      onClick: this.submitInvoice,\n      size: \"md\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 508\n      },\n      __self: this\n    }, React.createElement(MDBIcon, {\n      icon: \"save\",\n      size: \"lg\",\n      className: \"mr-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 513\n      },\n      __self: this\n    }), \"Save Record\"))))));\n  }\n\n}\n\nexport default Generate;","map":{"version":3,"sources":["E:/git project/bErp-invoice/clientside/src/components/Generate.jsx"],"names":["React","Component","MDBBtn","MDBCard","MDBCardBody","MDBInput","MDBIcon","invoice","jsPDF","html2canvas","axios","servicesOptions","value","label","Generate","constructor","props","cleararray","setState","item","submitInvoice","state","total","form","selectClientForm","checkValidity","classList","add","length","message","invoice_id","selectedClient","address","phone","date","printInvoice","obj","slagme","name","number","total_amount","post","then","res","data","services","description","qty","price","remove","input","document","getElementById","canvas","imgData","toDataURL","pdf","addImage","save","catch","error","console","log","err","componentDidMount","fetch","response","json","clients","editingInvoiceId","get","id","editingInvoice","shift","forEach","push","detail","Date","toDateString","c_name","c_address","c_number","alertmessage","calculateTotal","table","index","rows","Number","cells","innerHTML","onChangeClient","e","ourClient","filter","client","target","onChange","addItem","preventDefault","addItemForm","newitem","tdOnBlur","el","slice","Object","assign","deleteItemData","Index","rowIndex","closest","prevState","itemData","Math","floor","random","discount","render","companyDetailStyle","fontSize","clientOptions","map","cl","cl_name","tableRows","backgroundColor","color","borderStyle","borderRadius","ref","display"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport {MDBBtn, MDBCard, MDBCardBody, MDBInput, MDBIcon,} from 'mdbreact';\r\nimport invoice from './images/devZone-Logo.png';\r\nimport jsPDF from 'jspdf';\r\nimport html2canvas from 'html2canvas';\r\nimport axios from 'axios';\r\n// const today = new Date();\r\n// const mydate = today.toDateString();\r\n// const id = Math.floor((Math.random() * 200000) + 1);\r\nconst servicesOptions = [\r\n    {value: 'seo', label: 'SEO'},\r\n    {value: 'web development', label: 'WEB DEVELOPMENT'},\r\n    {value: 'graphic designing', label: 'Graphics Designing'},\r\n    {value: 'mobile apps', label: 'Mobile Apps'}\r\n];\r\n\r\n\r\nclass Generate extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.editingInvoiceId = this.props.id\r\n        this.state = {\r\n            date: new Date().toDateString(),\r\n            invoice_id: Math.floor((Math.random() * 200000) + 1),\r\n            address: '',\r\n            phone: '',\r\n            total: 0,\r\n            selectedClient: '',\r\n            // item: [{ services: 'seo', detail: 'ggd', qty: '3', price: '4' }],\r\n            item: [],\r\n            services: '',\r\n            discount: '',\r\n            clients: [],\r\n            message: '',\r\n            description: '',\r\n            qty: '',\r\n            price: '',\r\n            printInvoice: true\r\n        }\r\n    }\r\n\r\n    cleararray = () => {\r\n        this.setState({item: []});\r\n    }\r\n\r\n    submitInvoice = () => {\r\n        let {item, total} = this.state\r\n        // e.preventDefault();\r\n        let form = this.selectClientForm;\r\n        if (form.checkValidity() === false) {\r\n            form.classList.add('was-validated');\r\n        } else if (item.length === 0) {\r\n            this.setState({message: 'No Invoice Data !'})\r\n            return\r\n        } else if (total === 0) {\r\n            this.setState({message: 'Please calculate first !'})\r\n            return\r\n        } else {\r\n            let {invoice_id, selectedClient, address, phone, date, total, printInvoice} = this.state\r\n            const obj = {\r\n                slagme: invoice_id,\r\n                name: selectedClient,\r\n                address: address,\r\n                number: phone,\r\n                date: date,\r\n                total_amount: total,\r\n            };\r\n            axios.post('http://localhost:5000/brp/invoice', obj)\r\n                .then(res => {\r\n                    this.setState({message: res.data.message});\r\n                    // console.log(res.data);\r\n                    axios.post('http://localhost:5000/brp/itemsdata', item)\r\n                        .then(res => {\r\n                            // console.log(res)\r\n                            this.setState({\r\n                                item: [],\r\n                                address: '',\r\n                                phone: '',\r\n                                services: '',\r\n                                total: 0,\r\n                                selectedClient: '',\r\n                                description: '',\r\n                                qty: '',\r\n                                price: '',\r\n                                message: '',\r\n                            })\r\n                            this.selectClientForm.classList.remove('was-validated')\r\n                            if (printInvoice) {\r\n                                const input = document.getElementById('capture');\r\n                                html2canvas(input)\r\n                                    .then((canvas) => {\r\n                                        const imgData = canvas.toDataURL('image/png');\r\n                                        const pdf = new jsPDF();\r\n                                        pdf.addImage(imgData, 'PNG', 3, 50, 207, 190);\r\n                                        pdf.save(\"invoice.pdf\");\r\n                                    });\r\n                            }\r\n                        })\r\n                        .catch(error => console.log(error))\r\n                })\r\n                .catch(err => {\r\n                    console.log(err)\r\n                });\r\n        }\r\n    };\r\n\r\n    componentDidMount = () => {\r\n        fetch(\"http://localhost:5000/brp/clients\")\r\n            .then((response) => {\r\n                return response.json();\r\n            })\r\n            .then(data => {\r\n                // console.log(data);\r\n                this.setState({clients: data}, () => {\r\n                    // console.log(this.state.clients)\r\n                });\r\n            }).catch(error => {\r\n            console.log(error);\r\n        });\r\n\r\n        if (this.editingInvoiceId) {\r\n            axios.get('http://localhost:5000/brp/invoices/' + this.props.id)\r\n                .then(response => {\r\n                    // console.log(response);\r\n                    if (!response.data.error) {\r\n                        var editingInvoice = response.data.invoice.shift()\r\n                    }\r\n                    editingInvoice && axios.get('http://localhost:5000/brp/oneitemdata/' + editingInvoice.slagme)\r\n                        .then(response => {\r\n                            // console.log(response);\r\n                            let item = []\r\n                            if (response.data.length !== 0) {\r\n                                response.data.forEach(data => {\r\n                                    item.push(\r\n                                        {\r\n                                            invoice_id: data.invoice_id,\r\n                                            services: data.services,\r\n                                            detail: data.detail,\r\n                                            qty: data.qty,\r\n                                            price: data.price\r\n                                        }\r\n                                    )\r\n                                })\r\n                                this.setState({item})\r\n                                editingInvoice && this.setState({\r\n                                    date: new Date(editingInvoice.date).toDateString(),\r\n                                    invoice_id: editingInvoice.slagme,\r\n                                    selectedClient: editingInvoice.c_name,\r\n                                    address: editingInvoice.c_address,\r\n                                    phone: editingInvoice.c_number,\r\n                                    total: editingInvoice.total_amount,\r\n                                });\r\n                            }\r\n                        })\r\n                        .catch(err => console.log(err))\r\n                })\r\n                // .then(() => { console.log(this.state.name, this.state.address) })\r\n                .catch(function (error) {\r\n                    console.log(error);\r\n                })\r\n        }\r\n    }\r\n\r\n    alertmessage = () => {\r\n        if (this.state.message !== null) {\r\n            return (\r\n                <div>\r\n                    <strong>{this.state.message}</strong>\r\n                </div>\r\n            )\r\n        } else {\r\n            console.log('message error');\r\n        }\r\n    }\r\n\r\n    calculateTotal = () => {\r\n        let table = document.getElementById('invoiceTable'), total = 0\r\n        for (let index = 1; index < table.rows.length; index++) {\r\n            total += Number(table.rows[index].cells[3].innerHTML)\r\n        }\r\n        this.setState({total: total})\r\n    };\r\n\r\n    onChangeClient = (e) => {\r\n        let ourClient = this.state.clients.filter(client => client.id == e.target.value).shift()\r\n        ourClient ?\r\n            this.setState({\r\n                selectedClient: ourClient.id,\r\n                address: ourClient.address,\r\n                phone: ourClient.number\r\n            })\r\n            :\r\n            this.setState({\r\n                selectedClient: '',\r\n                address: '',\r\n                phone: ''\r\n            })\r\n    }\r\n\r\n    onChange = name => e => {\r\n        this.setState({\r\n            [name]: e.target.value\r\n        })\r\n    }\r\n\r\n    addItem = (e) => {\r\n        e.preventDefault()\r\n        if (this.addItemForm.checkValidity() === false) {\r\n            this.addItemForm.classList.add('was-validated')\r\n            return\r\n        } else {\r\n            let {invoice_id, description, qty, price, services} = this.state\r\n            let newitem = {\r\n                invoice_id: invoice_id,\r\n                services: services,\r\n                detail: description,\r\n                qty: qty,\r\n                price: price\r\n            };\r\n            this.setState({\r\n                item: [...this.state.item, newitem],\r\n                description: '',\r\n                qty: '',\r\n                price: '',\r\n                services: ''\r\n            }, function () {\r\n                this.addItemForm.classList.remove('was-validated')\r\n            });\r\n        }\r\n    }\r\n\r\n    tdOnBlur = (index, name) => (e) => {\r\n        let el = e.target\r\n        this.setState({\r\n            item: [\r\n                ...this.state.item.slice(0, index),\r\n                Object.assign({}, this.state.item[index], {[name]: el.innerHTML}),\r\n                ...this.state.item.slice(index + 1)\r\n            ]\r\n        });\r\n    }\r\n\r\n    deleteItemData = Index => (e) => {\r\n        let el = e.target, rowIndex = el.closest('tr').rowIndex\r\n        this.setState(prevState => ({\r\n            item: prevState.item.filter((itemData, index) => {\r\n                return index !== Index\r\n            })\r\n        }))\r\n    }\r\n\r\n\r\n    render() {\r\n        // console.log('re-render');\r\n\r\n        let {total, description, qty, price, date, invoice_id, selectedClient, clients, phone, address, printInvoice} = this.state;\r\n        let companyDetailStyle = {fontSize: '0.8rem'};\r\n        let clientOptions = clients && clients.map((cl) => <option key={cl.id} value={cl.id}>{cl.cl_name}</option>)\r\n        let tableRows = [];\r\n        this.state.item.map((item, index) => {\r\n            tableRows.push(\r\n                <tr key={index} className='text-center'>\r\n                    <td>\r\n                        {item.services}\r\n                    </td>\r\n                    <td\r\n                        onBlur={this.tdOnBlur(index, 'detail')}\r\n                        suppressContentEditableWarning={true}\r\n                        contentEditable={true}\r\n                    >\r\n                        {item.detail}\r\n                    </td>\r\n                    <td\r\n                        onBlur={this.tdOnBlur(index, 'qty')}\r\n                        suppressContentEditableWarning={true}\r\n                        contentEditable={true}\r\n                    >\r\n                        {item.qty}\r\n                    </td>\r\n                    <td\r\n                        onBlur={this.tdOnBlur(index, 'price')}\r\n                        suppressContentEditableWarning={true}\r\n                        contentEditable={true}\r\n                    >\r\n                        {item.price}\r\n                    </td>\r\n                    <td>\r\n                        <MDBBtn size=\"sm\" color=\"danger\" onClick={this.deleteItemData(index)}>\r\n                            <i className=\"fas fa-trash\"/>\r\n                        </MDBBtn>\r\n                    </td>\r\n                </tr>\r\n            )\r\n        })\r\n\r\n\r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <div className=\"row m-4\">\r\n                    <div className=\"col-sm-11 offset-sm-1\">\r\n                        <MDBCard id=\"capture\">\r\n                            <MDBCardBody>\r\n                                <h2 className=\"text-center\"\r\n                                    style={{backgroundColor: \"#9ACD32\", color: \"white\"}}>INVOICE</h2>\r\n                                <div className=\"row m-0 p-0\">\r\n                                    <div className=\"col-sm-3 align-self-center m-0 p-0\">\r\n                                        <MDBInput label=\"Date\" disabled value={date}/>\r\n                                        <MDBInput label=\"Id\" disabled value={invoice_id}/>\r\n                                    </div>\r\n                                    <div className=\"col-sm-6 align-self-center m-0 p-0\">\r\n                                        <img src={invoice} width=\"100%\" height=\"auto\"/> <br/>\r\n                                    </div>\r\n                                    <div className=\"col-md-3 m-0 p-0 align-self-center\">\r\n                                        <MDBCard className='m-0 p-0'>\r\n                                            <MDBCardBody className='m-0 py-2'>\r\n                                                <div className='row'>\r\n                                                    <div className='col-2 text-center  m-0 p-0'>\r\n                                                        <i className='fa fa-mobile-alt'/>\r\n                                                    </div>\r\n                                                    <div className='col-10 m-0 p-0 text-left'\r\n                                                         style={companyDetailStyle}>\r\n                                                        +92 306 5619198\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className='row'>\r\n                                                    <div className='col-2 text-center  m-0 py-0 pr-0 pl-0'>\r\n                                                        <i className='fa fa-envelope'/>\r\n                                                    </div>\r\n                                                    <div className='col-10 m-0 p-0 text-left'\r\n                                                         style={companyDetailStyle}>\r\n                                                        contact@devzone.com.pk\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className='row'>\r\n                                                    <div className='col-2 text-center  m-0 p-0'>\r\n                                                        <i className='fa fa-map-marker-alt'/>\r\n                                                    </div>\r\n                                                    <div className='col-10 m-0 p-0 text-left'\r\n                                                         style={companyDetailStyle}>\r\n                                                        42-5-A2 Township, Lahore, Pakistan\r\n                                                    </div>\r\n                                                </div>\r\n                                            </MDBCardBody>\r\n                                        </MDBCard>\r\n                                    </div>\r\n                                </div>\r\n                                {this.alertmessage()}\r\n                                <form ref={el => this.selectClientForm = el} noValidate>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-sm-4\">\r\n                                            <br/>\r\n                                            <select\r\n                                                value={selectedClient}\r\n                                                // defaultValue={'Select Client/..'}\r\n                                                className=\"browser-default custom-select mt-1\"\r\n                                                // placeholder={'Select Client'}\r\n                                                onChange={this.onChangeClient}\r\n                                                required\r\n                                            >\r\n                                                <option key={Math.random()} value='' disabled>Select Client...</option>\r\n                                                {clientOptions}\r\n                                            </select>\r\n                                        </div>\r\n                                        <div className=\"col-sm-4\">\r\n                                            <MDBInput\r\n                                                label=\"Address\"\r\n                                                value={address}\r\n                                                disabled\r\n                                                required\r\n                                                validate\r\n                                            />\r\n                                        </div>\r\n                                        <div className=\"col-sm-4\">\r\n                                            <MDBInput\r\n                                                label=\"Phone\"\r\n                                                value={phone}\r\n                                                disabled\r\n                                                required/>\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n                                <div className=\"container-fluid m-0 p-0\"\r\n                                     style={{borderStyle: \"groove\", borderRadius: \"10px\"}}>\r\n                                    <form onSubmit={this.addItem} className=' p-0' ref={ref => this.addItemForm = ref}\r\n                                          noValidate>\r\n                                        <div className=\"row px-2 m-0\">\r\n                                            <div className=\"col-md-4 m-0\">\r\n                                                <br/>\r\n                                                <select\r\n                                                    className=\"form-control mt-1\"\r\n                                                    onChange={this.onChange('services')}\r\n                                                    required\r\n                                                    value={this.state.services}\r\n                                                >\r\n                                                    <option value='' disabled>Select Services...</option>\r\n                                                    <option value=\"seo\">SEO</option>\r\n                                                    <option value=\"web development\">Web Development</option>\r\n                                                    <option value=\"mob app\">Mobile App</option>\r\n                                                    <option value=\"graphic designing\">Graphic Designing</option>\r\n                                                </select>\r\n                                            </div>\r\n                                            <div className=\"col-md-4 m-0\">\r\n                                                <MDBInput\r\n                                                    label=\"Item-descrption\"\r\n                                                    value={description}\r\n                                                    type=\"text\"\r\n                                                    onChange={this.onChange('description')}\r\n                                                    required\r\n                                                />\r\n                                            </div>\r\n                                            <div className=\"col-md-1 m-0\">\r\n                                                <MDBInput\r\n                                                    label=\"Qty\"\r\n                                                    value={qty}\r\n                                                    type=\"number\"\r\n                                                    min=\"1\"\r\n                                                    onChange={this.onChange('qty')}\r\n                                                    required\r\n                                                />\r\n                                            </div>\r\n                                            <div className=\"col-md-2 m-0\">\r\n                                                <MDBInput\r\n                                                    label=\"Price\"\r\n                                                    value={price}\r\n                                                    type=\"number\"\r\n                                                    min=\"1\"\r\n                                                    onChange={this.onChange('price')}\r\n                                                    required\r\n                                                />\r\n                                            </div>\r\n                                            <div className=\"col-md-1 m-0 pt-2  align-self-center\">\r\n                                                <button\r\n                                                    type='submit'\r\n                                                    color=\"transparent\"\r\n                                                    className='mb-2'\r\n                                                >\r\n                                                    <MDBIcon icon=\"plus\"/>\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </form>\r\n                                    <div className=\"row px-2 m-0\"\r\n                                         style={{display: this.state.item.length === 0 ? 'none' : ''}}>\r\n                                        <div className=\"col-md-8 m-0\">\r\n                                            <div className='m-0 p-0 table-responsive'>\r\n                                                <table id='invoiceTable'\r\n                                                       className=\"table table-bordered table-hover table-sm\">\r\n                                                    <thead className='thead-light text-center'>\r\n                                                    <tr>\r\n                                                        <th>Services</th>\r\n                                                        <th>Description</th>\r\n                                                        <th>Qty.</th>\r\n                                                        <th>Price</th>\r\n                                                        <th>Action</th>\r\n                                                    </tr>\r\n                                                    </thead>\r\n                                                    <tbody>\r\n                                                    {tableRows}\r\n                                                    </tbody>\r\n                                                </table>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"row px-2 m-0\"\r\n                                         style={{display: this.state.item.length === 0 ? 'none' : ''}}>\r\n                                        <div className=\"col-sm-8 align-self-center\">\r\n                                            <MDBBtn\r\n                                                color=\"transparent\"\r\n                                                onClick={this.calculateTotal}\r\n                                                className='m-0'\r\n                                            >\r\n                                                Calculate\r\n                                            </MDBBtn>\r\n                                            <MDBBtn\r\n                                                onClick={this.cleararray}\r\n                                                color=\"transparent\"\r\n                                            >\r\n                                                <MDBIcon icon=\"broom\"/>\r\n                                            </MDBBtn>\r\n                                        </div>\r\n                                        <div className='col-sm-4'>\r\n                                            <MDBInput label='Total' outline value={total}/>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <p></p>\r\n\r\n                            </MDBCardBody>\r\n                        </MDBCard>\r\n                        <div className=\"row m-0 px-2 justify-content-center\">\r\n                            <div className=\"col-md-2 text-right P-0\">\r\n                                <input\r\n                                    type=\"checkbox\"\r\n                                    checked={printInvoice}\r\n                                    onChange={() => {\r\n                                        this.setState({\r\n                                            printInvoice: !this.state.printInvoice\r\n                                        })\r\n                                    }}\r\n                                    className='mt-2 mr-0 w-75 h-75'\r\n                                />\r\n                            </div>\r\n                            <div className='col-md-2 align-self-center'>\r\n                                Save PDF ?\r\n                            </div>\r\n                            <div className=\"col-md-3 p-0\">\r\n                                <MDBBtn\r\n                                    color=\"success\"\r\n                                    onClick={this.submitInvoice}\r\n                                    size=\"md\"\r\n                                >\r\n                                    <MDBIcon\r\n                                        icon=\"save\"\r\n                                        size=\"lg\"\r\n                                        className='mr-1'\r\n                                    />\r\n                                    Save Record\r\n                                </MDBBtn>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default Generate;"]},"metadata":{},"sourceType":"module"}